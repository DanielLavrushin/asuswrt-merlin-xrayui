import{_ as i,c as l,a as r,b as s,d as t,w as o,r as d,o as p,e as n}from"./app-eTybrgsj.js";const u="/asuswrt-merlin-xrayui/assets/20250816173305-DyrAmF54.png",c="/asuswrt-merlin-xrayui/assets/20250816173240-oTnbqAdy.png",g="/asuswrt-merlin-xrayui/assets/20250816173221-B7T7D2kS.png",h="/asuswrt-merlin-xrayui/assets/20250816173145-BN_Hgt1d.png",b="/asuswrt-merlin-xrayui/assets/20250816173339-c8qnw8Ba.png",f="/asuswrt-merlin-xrayui/assets/20250816173602-DkybFDKH.png",m="/asuswrt-merlin-xrayui/assets/20250816181033-DZjXu4AJ.png",y={},v={class:"table-of-contents"};function x(w,e){const a=d("router-link");return p(),l("div",null,[e[27]||(e[27]=r('<h1 id="guide-to-general-options" tabindex="-1"><a class="header-anchor" href="#guide-to-general-options"><span>Guide to General Options</span></a></h1><p>The <strong>General Options</strong> modal centralizes how XRAYUI behaves on your ASUSWRT-Merlin router: startup sequencing, DNS behavior, geodata sources, logs, and subscription management.</p><p>Open: click <strong>General Options</strong> in the <strong>Configuration</strong> section.<br> Save changes by clicking <strong>Save</strong> at the bottom of the dialog.</p>',3)),s("nav",v,[s("ul",null,[s("li",null,[t(a,{to:"#tabs-overview"},{default:o(()=>e[0]||(e[0]=[n("Tabs overview",-1)])),_:1,__:[0]})]),s("li",null,[t(a,{to:"#general"},{default:o(()=>e[1]||(e[1]=[n("General",-1)])),_:1,__:[1]}),s("ul",null,[s("li",null,[t(a,{to:"#enable-debug-logs"},{default:o(()=>e[2]||(e[2]=[n("Enable debug logs",-1)])),_:1,__:[2]})]),s("li",null,[t(a,{to:"#start-xray-on-router-reboot"},{default:o(()=>e[3]||(e[3]=[n("Start Xray on router reboot",-1)])),_:1,__:[3]})]),s("li",null,[t(a,{to:"#check-connection-to-xray-server"},{default:o(()=>e[4]||(e[4]=[n("Check connection to xray server",-1)])),_:1,__:[4]})]),s("li",null,[t(a,{to:"#use-github-proxy"},{default:o(()=>e[5]||(e[5]=[n("Use GitHub Proxy",-1)])),_:1,__:[5]})]),s("li",null,[t(a,{to:"#skip-testing-xray"},{default:o(()=>e[6]||(e[6]=[n("Skip testing Xray",-1)])),_:1,__:[6]})]),s("li",null,[t(a,{to:"#check-clients-online-status"},{default:o(()=>e[7]||(e[7]=[n("Check clients online status",-1)])),_:1,__:[7]})])])]),s("li",null,[t(a,{to:"#dns"},{default:o(()=>e[8]||(e[8]=[n("DNS",-1)])),_:1,__:[8]}),s("ul",null,[s("li",null,[t(a,{to:"#enable-dns-bypass-ipset"},{default:o(()=>e[9]||(e[9]=[n("Enable DNS bypass (ipset)",-1)])),_:1,__:[9]})]),s("li",null,[t(a,{to:"#prevent-dns-leaks"},{default:o(()=>e[10]||(e[10]=[n("Prevent DNS leaks",-1)])),_:1,__:[10]})])])]),s("li",null,[t(a,{to:"#geodata"},{default:o(()=>e[11]||(e[11]=[n("Geodata",-1)])),_:1,__:[11]}),s("ul",null,[s("li",null,[t(a,{to:"#geoip-dat-url"},{default:o(()=>e[12]||(e[12]=[n("GeoIP dat URL",-1)])),_:1,__:[12]})]),s("li",null,[t(a,{to:"#geosite-dat-url"},{default:o(()=>e[13]||(e[13]=[n("GeoSite dat URL",-1)])),_:1,__:[13]})]),s("li",null,[t(a,{to:"#auto-update-geodata-files"},{default:o(()=>e[14]||(e[14]=[n("Auto-update geodata files",-1)])),_:1,__:[14]})])])]),s("li",null,[t(a,{to:"#hooks"},{default:o(()=>e[15]||(e[15]=[n("Hooks",-1)])),_:1,__:[15]})]),s("li",null,[t(a,{to:"#logs"},{default:o(()=>e[16]||(e[16]=[n("Logs",-1)])),_:1,__:[16]}),s("ul",null,[s("li",null,[t(a,{to:"#enable-dnsmasq-logs"},{default:o(()=>e[17]||(e[17]=[n("Enable dnsmasq logs",-1)])),_:1,__:[17]})]),s("li",null,[t(a,{to:"#enable-access-logs"},{default:o(()=>e[18]||(e[18]=[n("Enable access logs",-1)])),_:1,__:[18]})]),s("li",null,[t(a,{to:"#enable-error-logs"},{default:o(()=>e[19]||(e[19]=[n("Enable error logs",-1)])),_:1,__:[19]})]),s("li",null,[t(a,{to:"#log-level"},{default:o(()=>e[20]||(e[20]=[n("Log level",-1)])),_:1,__:[20]})]),s("li",null,[t(a,{to:"#enable-dns-logs"},{default:o(()=>e[21]||(e[21]=[n("Enable DNS logs",-1)])),_:1,__:[21]})]),s("li",null,[t(a,{to:"#max-log-size"},{default:o(()=>e[22]||(e[22]=[n("Max log size",-1)])),_:1,__:[22]})]),s("li",null,[t(a,{to:"#clear-logs-on-xray-restart"},{default:o(()=>e[23]||(e[23]=[n("Clear logs on xray restart",-1)])),_:1,__:[23]})]),s("li",null,[t(a,{to:"#integrate-xrayui-logs-with-scribe"},{default:o(()=>e[24]||(e[24]=[n("Integrate XRAYUI logs with Scribe",-1)])),_:1,__:[24]})])])]),s("li",null,[t(a,{to:"#subscriptions"},{default:o(()=>e[25]||(e[25]=[n("Subscriptions",-1)])),_:1,__:[25]}),s("ul",null,[s("li",null,[t(a,{to:"#subscription-sources"},{default:o(()=>e[26]||(e[26]=[n("Subscription Sources",-1)])),_:1,__:[26]})])])])])]),e[28]||(e[28]=r('<h2 id="tabs-overview" tabindex="-1"><a class="header-anchor" href="#tabs-overview"><span>Tabs overview</span></a></h2><ul><li><strong>General</strong> — utility toggles and startup flow</li><li><strong>DNS</strong> — ipset bypass/redirect mode and DNS-leak protection</li><li><strong>Geodata</strong> — choose and auto-update your GeoIP/GeoSite databases</li><li><strong>Hooks</strong> — run custom shell snippets before/after firewall changes</li><li><strong>Logs</strong> — control log types, sizes, levels, and integrations</li><li><strong>Subscriptions</strong> — paste subscription URLs and fetch available outbounds</li></ul><h2 id="general" tabindex="-1"><a class="header-anchor" href="#general"><span>General</span></a></h2><p><img src="'+u+'" alt="general"></p><h3 id="enable-debug-logs" tabindex="-1"><a class="header-anchor" href="#enable-debug-logs"><span>Enable debug logs</span></a></h3><p>Enables verbose XRAYUI logs. Useful for troubleshooting. Disable on stable setups to reduce log size and noise.</p><div class="hint-container tip"><p class="hint-container-title">xray logs</p><p>Do not mix up with <strong>Xray</strong> logs (application logs), which are configured in the <strong>Logs</strong> tab.</p></div><h3 id="start-xray-on-router-reboot" tabindex="-1"><a class="header-anchor" href="#start-xray-on-router-reboot"><span>Start Xray on router reboot</span></a></h3><p>When enabled, XRAYUI starts Xray during system boot.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If you are experimenting with settings, it’s strongly recommended to turn off this option. A broken configuration can cause boot loops if Xray restarts on every boot.</p></div><h4 id="xrayui-startup-delay" tabindex="-1"><a class="header-anchor" href="#xrayui-startup-delay"><span>XRAYUI Startup delay</span></a></h4><p>Wait time (seconds) after boot before launching Xray. Use this if WAN, USB/JFFS, or other services need time to initialize. Typical range: 5–20 seconds on slower devices. You can set it to <code>0</code>.</p><h4 id="after-xray-start-delay" tabindex="-1"><a class="header-anchor" href="#after-xray-start-delay"><span>After XRAY start delay</span></a></h4><p>Additional wait (seconds) after Xray starts, before XRAYUI continues with follow-up steps such as applying firewall rules. Default is <strong>10</strong> seconds. You can set it to <code>0</code>.</p><div class="hint-container tip"><p class="hint-container-title">Why?</p><p>Starting Xray and applying XRAYUI rules are both resource-intensive. On some devices, spacing them out avoids spikes that can slow or stall the system.</p></div><h3 id="check-connection-to-xray-server" tabindex="-1"><a class="header-anchor" href="#check-connection-to-xray-server"><span>Check connection to xray server</span></a></h3><p>Verifies outbound connectivity at startup. XRAYUI temporarily inserts a system rule and a short-lived SOCKS inbound (tagged <code>sys</code>, hidden from the UI) and performs a probe via <code>ip-api.com</code>. The UI indicates success/failure per outbound.</p><h3 id="use-github-proxy" tabindex="-1"><a class="header-anchor" href="#use-github-proxy"><span>Use GitHub Proxy</span></a></h3><p>Select a proxy base URL for downloading from GitHub (Xray updates, geodata files, etc.). Leave empty to download directly from GitHub. Useful when GitHub is blocked or rate-limited (for example, in mainland China).</p><h3 id="skip-testing-xray" tabindex="-1"><a class="header-anchor" href="#skip-testing-xray"><span>Skip testing Xray</span></a></h3><p>Skips the configuration validation step (<code>xray -test</code>) before starting Xray. Faster, but not recommended unless you’re confident in your configuration.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Disabling this option makes it impossible for XRAYUI to show real configuration errors before start.</p></div><h3 id="check-clients-online-status" tabindex="-1"><a class="header-anchor" href="#check-clients-online-status"><span>Check clients online status</span></a></h3><p>If you use Xray as a server (clients connect via Xray apps), XRAYUI can periodically check whether clients are online. This improves visibility at the cost of a small amount of extra processing.</p><h2 id="dns" tabindex="-1"><a class="header-anchor" href="#dns"><span>DNS</span></a></h2><p><img src="'+c+'" alt="dns"></p><h3 id="enable-dns-bypass-ipset" tabindex="-1"><a class="header-anchor" href="#enable-dns-bypass-ipset"><span>Enable DNS bypass (ipset)</span></a></h3><p>Controls how domain decisions are mirrored into kernel ipsets for fast-path routing:</p><ul><li><strong>OFF</strong> — <code>ipset</code> is disabled; routing behaves as if this feature didn’t exist.</li><li><strong>BYPASS</strong> — domains mapped to the <code>FREEDOM</code> outbound go directly to the internet; everything else remains proxied.</li><li><strong>REDIRECT</strong> — the inverse: only domains <strong>not</strong> mapped to <code>FREEDOM</code> are proxied; all other traffic goes direct.</li></ul><div class="hint-container note"><p class="hint-container-title">Note</p><p>Regex-based domains (entries starting with the <code>regexp:</code> prefix) cannot be inserted into ipsets and are ignored by this feature. They still apply inside Xray’s own matching engine.</p></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>In <code>REDIRECT</code> mode, explicit rules that send domains to <code>FREEDOM</code> become redundant and can be removed.</p></div><h3 id="prevent-dns-leaks" tabindex="-1"><a class="header-anchor" href="#prevent-dns-leaks"><span>Prevent DNS leaks</span></a></h3><p>Sends DNS via your Xray path to prevent leaking queries. Do not enable without a compatible Xray DNS configuration. Read more <a href="dns-leak">about DNS leaks here</a>.</p><h2 id="geodata" tabindex="-1"><a class="header-anchor" href="#geodata"><span>Geodata</span></a></h2><p><img src="'+g+'" alt="geodata"></p><h3 id="geoip-dat-url" tabindex="-1"><a class="header-anchor" href="#geoip-dat-url"><span>GeoIP dat URL</span></a></h3><p>Direct URL to <code>geoip.dat</code>.</p><h3 id="geosite-dat-url" tabindex="-1"><a class="header-anchor" href="#geosite-dat-url"><span>GeoSite dat URL</span></a></h3><p>Direct URL to <code>geosite.dat</code>.</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Use <strong>Use well-known geodata</strong> to quickly prefill both URLs from a trusted source.</p></div><p>Common sources included in the dropdown:</p><ul><li>Loyalsoldier (<code>v2ray-rules-dat</code>)</li><li>RUNET Freedom (<code>russia-v2ray-rules-dat</code>)</li><li>Nidelon (<code>ru-block-v2ray-rules</code>)</li><li>DustinWin (<code>ruleset_geodata</code>)</li><li>Chocolate4U (<code>Iran-v2ray-rules</code>)</li></ul><h3 id="auto-update-geodata-files" tabindex="-1"><a class="header-anchor" href="#auto-update-geodata-files"><span>Auto-update geodata files</span></a></h3><p>Periodically refreshes geodata files in the background. This option will also recompile <a href="custom-geodata#interface-overview">your custom geodat file</a>.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>A cron job is created to download fresh geodata every night at <strong>03:00</strong>.</p></div><h2 id="hooks" tabindex="-1"><a class="header-anchor" href="#hooks"><span>Hooks</span></a></h2><p><img src="'+h+'" alt="hooks"></p><p>XRAYUI can run short shell snippets at specific points in the firewall lifecycle. Do not add a shebang (<code>#!/bin/sh</code>); it is added automatically.</p><ul><li><strong>Before firewall start</strong> — runs immediately before XRAYUI applies firewall rules.</li><li><strong>After firewall start</strong> — runs right after rules are applied.</li><li><strong>After firewall cleanup</strong> — runs after XRAYUI removes its rules during stop/restart.</li></ul><p>Keep hook scripts short and idempotent. Use them for firewall-specific adjustments that aren’t modeled in the UI.</p><h2 id="logs" tabindex="-1"><a class="header-anchor" href="#logs"><span>Logs</span></a></h2><p><img src="'+b+'" alt="logs"></p><p>These settings control how XRAYUI exposes <strong>Xray</strong> logs. When enabled, a <strong>Logs</strong> section appears at the bottom of the main page.</p><p><img src="'+f+'" alt="logs section"></p><h3 id="enable-dnsmasq-logs" tabindex="-1"><a class="header-anchor" href="#enable-dnsmasq-logs"><span>Enable dnsmasq logs</span></a></h3><p>Displays DNS hostnames (domain names) instead of only IPs in logs shown by XRAYUI.</p><h3 id="enable-access-logs" tabindex="-1"><a class="header-anchor" href="#enable-access-logs"><span>Enable access logs</span></a></h3><p>Turns on Xray’s access logging.</p><h3 id="enable-error-logs" tabindex="-1"><a class="header-anchor" href="#enable-error-logs"><span>Enable error logs</span></a></h3><p>Turns on Xray’s error logging.</p><h3 id="log-level" tabindex="-1"><a class="header-anchor" href="#log-level"><span>Log level</span></a></h3><p>Controls verbosity of error logs. Selecting <code>none</code> also disables access logs.</p><p>Typical choices:</p><ul><li><code>warning</code> or <code>error</code> for normal operation</li><li><code>info</code> or <code>debug</code> for troubleshooting</li></ul><h3 id="enable-dns-logs" tabindex="-1"><a class="header-anchor" href="#enable-dns-logs"><span>Enable DNS logs</span></a></h3><p>Enables DNS query logging from Xray’s DNS component. Useful for debugging rules. Expect larger logs on busy networks.</p><h3 id="max-log-size" tabindex="-1"><a class="header-anchor" href="#max-log-size"><span>Max log size</span></a></h3><p>Maximum size (MB) before log rotation occurs automatically.</p><h3 id="clear-logs-on-xray-restart" tabindex="-1"><a class="header-anchor" href="#clear-logs-on-xray-restart"><span>Clear logs on xray restart</span></a></h3><p>Clears logs when Xray restarts.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>A cron job is created to run <code>logrotate</code> every <strong>15 minutes</strong>.</p></div><h3 id="integrate-xrayui-logs-with-scribe" tabindex="-1"><a class="header-anchor" href="#integrate-xrayui-logs-with-scribe"><span>Integrate XRAYUI logs with Scribe</span></a></h3><p>If available on your system, enables sending XRAYUI logs to <a href="https://github.com/AMTM-OSR/scribe" target="_blank" rel="noopener noreferrer">Scribe</a> for viewing in its web interface.</p><h2 id="subscriptions" tabindex="-1"><a class="header-anchor" href="#subscriptions"><span>Subscriptions</span></a></h2><p>This tab manages subscription sources. See the dedicated page: <a href="subscriptions">Subscriptions</a>.</p><h3 id="subscription-sources" tabindex="-1"><a class="header-anchor" href="#subscription-sources"><span>Subscription Sources</span></a></h3><p><img src="'+m+'" alt="subscription"></p><p>Paste one or more subscription URLs, one per line.<br> Click <strong>fetch</strong> to retrieve and parse each source.<br> After fetching, you can select subscription-backed outbounds within your outbound settings.</p>',78))])}const k=i(y,[["render",x]]),_=JSON.parse('{"path":"/en/general-options.html","title":"Guide to General Options","lang":"en-US","frontmatter":{},"git":{"updatedTime":1757346344000,"contributors":[{"name":"Daniel Lavrushin","username":"","email":"lavrushin@gmail.com","commits":2}],"changelog":[{"hash":"d4c3147d892288aa13403d5852ec8b65224d8304","time":1757346344000,"email":"lavrushin@gmail.com","author":"Daniel Lavrushin","message":"fix: Refactor geodata update process and add URL fetching functionality"},{"hash":"62390969d4ef2511bf75a2b7b27630f8014b8303","time":1755366072000,"email":"lavrushin@gmail.com","author":"Daniel Lavrushin","message":"Add comprehensive documentation for XRAYUI features and configurations"}]},"filePathRelative":"en/general-options.md"}');export{k as comp,_ as data};
