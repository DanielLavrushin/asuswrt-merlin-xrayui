import{_ as s,c as e,a as n,o as i}from"./app-BsG86pRf.js";const l="/asuswrt-merlin-xrayui/assets/20251215211014-Bqen-Nqe.png",r={};function p(t,a){return i(),e("div",null,[...a[0]||(a[0]=[n(`<h1 id="включение-swap-на-asus-роутерах-с-merlin" tabindex="-1"><a class="header-anchor" href="#включение-swap-на-asus-роутерах-с-merlin"><span>Включение Swap на ASUS роутерах с Merlin</span></a></h1><h2 id="что-такое-swap-и-зачем-он-нужен" tabindex="-1"><a class="header-anchor" href="#что-такое-swap-и-зачем-он-нужен"><span>Что такое Swap и зачем он нужен</span></a></h2><p>Роутеры имеют ограниченный объём оперативной памяти (RAM) — обычно от 256 MB до 1 GB. Когда запущенным приложениям не хватает памяти, система аварийно завершает их с ошибкой <code>out of memory</code>.</p><p><strong>Swap</strong> — это файл на USB-накопителе, который система использует как дополнительную «медленную» память. Когда RAM заканчивается, редко используемые данные выгружаются в swap, освобождая место для активных процессов.</p><h3 id="когда-нужен-swap" tabindex="-1"><a class="header-anchor" href="#когда-нужен-swap"><span>Когда нужен Swap</span></a></h3><ul><li>Xray, sing-box или другие прокси падают с ошибкой <code>fatal error: runtime: out of memory</code></li><li>Роутер зависает или перезагружается под нагрузкой</li><li>Вы используете несколько ресурсоёмких приложений одновременно (VPN + прокси + торренты)</li></ul><div class="hint-container caution"><p class="hint-container-title">Предупреждение</p><p>Swap медленнее оперативной памяти в десятки раз. Он не сделает роутер быстрее — он лишь предотвратит падения при пиковых нагрузках. Если приложения постоянно используют swap, производительность заметно снизится.</p></div><h2 id="включение-swap-через-amtm" tabindex="-1"><a class="header-anchor" href="#включение-swap-через-amtm"><span>Включение Swap через amtm</span></a></h2><ol><li><p>Подключитесь к роутеру по SSH</p></li><li><p>Запустите amtm:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">amtm</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Выберите пункт <strong>sw</strong> (Swap file) в меню</p></li><li><p>Выберите размер swap-файла:</p><ul><li>Для большинства случаев достаточно <strong>256 MB</strong> или <strong>512 MB</strong></li><li>Для Xray и других тяжёлых приложений рекомендуется <strong>512 MB</strong> и больше</li></ul></li><li><p>Дождитесь создания swap-файла</p></li><li><p>Перезагрузите роутер</p></li></ol><p><img src="`+l+`" alt="swap"></p><h2 id="проверка" tabindex="-1"><a class="header-anchor" href="#проверка"><span>Проверка</span></a></h2><p>После перезагрузки убедитесь, что swap активен:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">free</span> <span class="token parameter variable">-m</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>В строке <code>Swap</code> должно отображаться ненулевое значение.</p><p>Альтернативная проверка:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">cat</span> /proc/swaps</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="удаление-swap" tabindex="-1"><a class="header-anchor" href="#удаление-swap"><span>Удаление Swap</span></a></h2><p>Если нужно отключить swap — снова запустите <code>amtm</code>, выберите <strong>sw</strong> и следуйте инструкциям для удаления.</p><h2 id="примечания" tabindex="-1"><a class="header-anchor" href="#примечания"><span>Примечания</span></a></h2><ul><li>Swap создаётся на USB-накопителе в <code>/tmp/mnt/&lt;имя_раздела&gt;/.swap</code></li><li>Использование swap на флешке сокращает её срок службы при интенсивной записи</li><li>Для постоянной работы ресурсоёмких приложений предпочтительнее роутер с большим объёмом RAM</li></ul>`,20)])])}const c=s(r,[["render",p]]),d=JSON.parse('{"path":"/ru/swap.html","title":"Включение Swap на ASUS роутерах с Merlin","lang":"ru-RU","frontmatter":{},"git":{"updatedTime":1765829437000,"contributors":[{"name":"Daniel Lavrushin","username":"","email":"lavrushin@gmail.com","commits":1}],"changelog":[{"hash":"5fdb11dcc970e6a6427009caae4eef9a3014aae6","time":1765829437000,"email":"lavrushin@gmail.com","author":"Daniel Lavrushin","message":"feat: add Swap documentation for ASUS routers with Merlin"}]},"filePathRelative":"ru/swap.md"}');export{c as comp,d as data};
