# Руководство по подпискам

Подписка в мире XRAY — удобный способ упростить обслуживание конфигурации между сервером и клиентом. После завершения настройки вашего сервера XRAY он может предоставить URL подписки, который может использовать любой клиент, совместимый с XRAY. Подписки не являются встроенной функцией самого XRAY Core — многие сторонние серверные панели и интерфейсы добавляют этот слой удобства.

Все больше проектов умеют генерировать URL подписки для вашего сервера. Загляните на [домашнюю страницу XRAY Core](https://github.com/XTLS/Xray-core), чтобы найти поддерживаемые инструменты и клиенты.

## Подписки «под капотом»

Есть два варианта URL подписок:

- **Subscription protocol link (a token)**: начинается с префикса протокола прокси, такого как `ss://`, `vless://`, `vmess://` и т. д. Может быть закодирована в Base64, поэтому содержимое не читается напрямую.
- **Subscription source**: список нескольких конфигураций прокси (каждая на своей строке, закодированы).

  > [!info]
  > Единственная по-настоящему важная разница — гранулярность: ссылка протокола отдаёт `one` прокси, источник — `many`.

  > [!warning]
  > Открытие любой из ссылок в браузере может показать “абракадабру” — это просто Base64. XRAYUI декодирует всё за вас. Если любопытно — не обязательно! — можете декодировать сами на [base64decode.org](https://www.base64decode.org/).

  > [!warning]
  > Разбор может быть непростым. Если что-то ведёт себя странно, загляните в наш [Telegram-группу](https://t.me/asusxray) — поможем.

### Subscription Protocol Link

Одиночная ссылка на прокси — возможно, из `3x-u`, `Marzban` или любого другого [провайдера](https://github.com/XTLS/Xray-core). Пример декодированного содержимого может выглядеть так:

```text:no-line-numbers
vless://05519058-d2ac-4f28-9e4a-2b2a1386749e@1.1.1.1:22222?path=/telegram-channel-vlessconfig-ws&security=tls&encryption=none&host=somedomainname.com&type=ws&sni=telegram-channel-vlessconfig.sohala.uk#Telegram @VlessConfig
```

> [!info]
> Содержимое ссылки при открытии в браузере может быть закодировано, и вы не поймёте его сразу. Это нормально — просто предоставьте ссылку.

### Subscription Source Link

Ссылка-источник подписки. Источник подписки — это ссылка, содержащая больше одного протокола. По сути это просто список протоколов (много строк со случайными `ss://`, `vless://` и т. п.).

## XRAYUI: Protocol Link

Начнём со ссылки протокола (надеемся, вы не пропустили важную предыдущую часть, верно?).

XRAYUI ожидает, что вы знаете протокол ссылки. Поэтому сначала нужно создать элемент outbound соответствующего протокола.

В разделе Outbounds выберите нужный протокол в выпадающем списке и создайте его. Например, у вас есть ссылка

```text:no-line-numbers
https://yourserver:2096/asd7696asf98df/d0f97sd00df7s09s8df
```

Вставьте её в поле `Subscription URL`  
![subscriptions protocol](../.vuepress/public/images/subscriptions/20250731210146.png)  
Все зависящие от подписки поля становятся неактивными. Это означает, что эти поля и параметры будут управляться вашей подпиской.

Нажмите `save`, чтобы сохранить изменения.

> [!warning]  
> Помните: это не применяет изменения конфигурации. Всё равно нужно нажать `apply` в основной форме, чтобы изменения были отправлены на бэкенд и сохранены.

Когда вы примените изменения основной формы, правки вступят в силу, и страница перезагрузится. Рядом с вашим outbound появится значок ссылки, указывающий, что этот outbound управляется ссылкой подписки.  
![proxy subscription line](../.vuepress/public/images/subscriptions/20250731210735.png)

> [!info]  
> Несмотря на слово «подписка» в названии, недостаточно просто обновить удалённую сторону. Чтобы изменения вступили в силу, каждый раз после изменения вашей подписки нажимайте кнопку `apply` в XRAYUI. В этом случае XRAYUI перезагрузит и применит обновлённые параметры.

## XRAYUI: Source Link

Ссылка-источник — это ссылка, содержащая более одного протокола. Она не будет работать как ссылка протокола, описанная выше, — настройка выполняется иначе.

Перейдите в `General Options` в `Configuration Section` и переключитесь на вкладку `Subscriptions`.  
![source link](../.vuepress/public/images/subscriptions/20250731213156.png)  
Можно сохранить — окно будет перезагружено. Или укажите временную ссылку и нажмите кнопку `fetch` под текстовой областью.

![fetch](../.vuepress/public/images/subscriptions/20250731213401.png)

Система получит ссылки из источника подписки. Визуально ничего не произошло — это нормально. Можно закрыть окно.

Однако если вы создадите новый исходящий прокси (outbound), вы получите список доступных подписок, из которого можно выбрать в списке `Available Subscription Configuration`  
![available subscriptions](../.vuepress/public/images/subscriptions/20250731213630.png)

> [!warning]  
> Выпадающий список доступен только если из URL был получен соответствующий тип подписки.

Теперь вы можете выбрать объект подписки в выпадающем списке, и параметры конфигурации применятся автоматически.

> [!warning]  
> Разница между источником подписки и ссылкой протокола — в гранулярности. Если ссылка содержит один элемент — вставьте её в поле Subscription URL, и при перезапуске службы произойдёт автоматическая перезагрузка.  
> Если же она содержит больше одного источника, для каждого outbound будет отображаться выпадающий список. Это потребует повторного применения настроек при изменениях на удалённой стороне.
